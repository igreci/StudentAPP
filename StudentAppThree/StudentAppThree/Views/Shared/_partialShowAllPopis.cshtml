@model StudentAppThree.Models.MainPageViewModel
@{
    ViewBag.Title = "ShowAllPopisDva";
}


<h2 class="mt-3">Popis studenata i kolegija</h2>

<table class="table table-hover" id="popisTable">
    <thead class="bg-info">
        <tr>
            <th>Ime</th>
            <th>Prezime</th>
            <th>Naziv</th>
            <th>Uredi</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<a href="#" class="btn btn-primary" data-toggle="modal" data-target="#addEditFormModal" ></a>

<div id="addEditFormModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Uredi Popis</h3>
                <a href="#" class="close" data-dismiss="modal">&times;</a>
            </div>
            <div class="modal-body">
                @Html.Partial("_partialAddEdit")
            </div>
            <div class="modal-footer">
                <a href="#" class="btn btn-outline-warning" data-dismiss="modal">Odustani</a>
                <a href="#" class="btn btn-outline-success" data-dismiss="modal">Spremi</a>
            </div>
        </div>
    </div>
</div>


<script>
    $(document).ready(function () {

        ShowAllPopisDvaJson();

    });

    function ShowAllPopisDvaJson() {

        $.ajax({

            type: "GET",
            url: "/Home/ShowAllPopisDvaJson",
            success: function (response) {

                BindDataTable(response);

            }

        })
    }

    function BindDataTable(response) {
        debugger
        $("#popisTable").DataTable({

            "aaData": response,
            "aoColumns": [

                { "mData": "Ime" },
                { "mData": "Prezime" },
                { "mData": "Naziv" },
                {
                    "mData": "PopisId",
                    "render": function (PopisId, type, full, meta) {

                        return '<a href="#" onclick="AddEditPopis(' + PopisId + ')"><i class="fa fa-pencil"></i></a>';

                    }
                }

            ]

        });

    }
</script>
